webpackJsonp([1],{"+Gxq":function(t,e,n){"use strict";var i=n("fnDg").a;var a=n("VU/8")(i,null,!1,function(t){n("4veK")},null,null);e.a=a.exports},"/s54":function(t,e,n){t.exports=n.p+"static/img/Helmet.6033db5.png"},"1Wv4":function(t,e){},"4veK":function(t,e){},"4zMD":function(t,e){},"61QZ":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mtWM"),a=n.n(i),s=n("jIVf"),o=n.n(s),r={name:"TimeDashBoard",data:function(){return{og1Time:[],og2Time:[],og1Cash:0,og2Cash:0}},created:function(){a.a.defaults.baseURL=this.$store.state.baseUrl,this.updateTime(),this.updateCash(),this.subscribe()},methods:{updateTime:function(){var t=this;a.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.currentUser.token}}).get("/api/18-19 FOA Hunter Game/GetTime").then(function(e){t.og1Time=e.data.og1,t.og2Time=e.data.og2}).catch(function(t){console.log(t)})},updateCash:function(){var t=this;a.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.currentUser.token}}).get("/api/18-19 FOA Hunter Game/GetInventory").then(function(e){t.og1Cash=e.data[0].cash,t.og2Cash=e.data[1].cash}).catch(function(t){console.log(t)})},subscribe:function(){var t=this,e=new o.a("e7fde66ab88312b757c3",{cluster:"ap1"});e.subscribe("18-19_FOA_Hunter_Game"),e.bind("PlayerStarted",function(e){t.updateTime()}),e.bind("PlayerEnded",function(e){t.updateTime(),t.updateInventory()}),e.bind("Purchased",function(e){t.updateInventory()})}},computed:{og1TotalSurviveTime:function(){var t=0,e={hour:0,min:0,sec:0};return this.og1Time.forEach(function(e){if(null!=e.start_time&&null!=e.end_time){var n=e.start_time.split(":");n.forEach(function(t,e){n[e]=parseInt(t)});var i=3600*n[0]+60*n[1]+n[2],a=e.end_time.split(":");a.forEach(function(t,e){a[e]=parseInt(t)});var s=3600*a[0]+60*a[1]+a[2];t+=s-i,console.log(t)}}),e.hour=Math.floor(t/3600),t%=3600,e.min=Math.floor(t/60),t%=60,e.sec=Math.floor(t),e.hour+":"+e.min+":"+e.sec},og2TotalSurviveTime:function(){var t=0,e={hour:0,min:0,sec:0};return this.og2Time.forEach(function(e){if(null!=e.start_time&&null!=e.end_time){var n=e.start_time.split(":");n.forEach(function(t,e){n[e]=parseInt(t)});var i=3600*n[0]+60*n[1]+n[2],a=e.end_time.split(":");a.forEach(function(t,e){a[e]=parseInt(t)});var s=3600*a[0]+60*a[1]+a[2];t+=s-i,console.log(t)}}),e.hour=Math.floor(t/3600),t%=3600,e.min=Math.floor(t/60),t%=60,e.sec=Math.floor(t),e.hour+":"+e.min+":"+e.sec}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticStyle:{margin:"100px"}},[t._m(0),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.og1Time,border:""}},[n("el-table-column",{attrs:{prop:"id",label:"Player",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"start_time",label:"Start Running Time"}}),t._v(" "),n("el-table-column",{attrs:{prop:"end_time",label:"End Time"}})],1),t._v(" "),n("div",[n("h5",[t._v("Total Survive Time "+t._s(t.og1TotalSurviveTime))]),t._v(" "),n("h5",[t._v("Total Survive Time After Purchasing "+t._s(t.og1Cash))])])],1),t._v(" "),n("div",{staticStyle:{margin:"100px"}},[t._m(1),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.og2Time,border:""}},[n("el-table-column",{attrs:{prop:"id",label:"Player",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"start_time",label:"Start Running Time"}}),t._v(" "),n("el-table-column",{attrs:{prop:"end_time",label:"End Time"}})],1),t._v(" "),n("div",[n("h5",[t._v("Total Survive Time "+t._s(t.og2TotalSurviveTime))]),t._v(" "),n("h5",[t._v("Total Survive Time After Purchasing "+t._s(t.og2Cash))])])],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{width:"20"}},[e("h5",{staticStyle:{alignment:"left"}},[this._v("OG1")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{width:"20"}},[e("h5",{staticStyle:{alignment:"left"}},[this._v("OG2")])])}]};var c=n("VU/8")(r,l,!1,function(t){n("4zMD")},"data-v-67d599e1",null);e.default=c.exports},"7Xxz":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mtWM"),a=n.n(i),s=n("jIVf"),o=n.n(s),r={name:"ShoppingPage",data:function(){return{ogBol:!1,cash:[0,0],items:[{name:"First Aid Pack",price:100,fileName:"First Aid Pack.png",description:"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",qty:0},{name:"Helmet",price:500,fileName:"Helmet.png",description:"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",qty:0},{name:"Bag",price:300,fileName:"Bag.png",description:"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",qty:0},{name:"Frying Pan",price:50,fileName:"Frying Pan.png",description:"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",qty:0},{name:"M416",price:800,fileName:"M416.png",description:"XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",qty:0}]}},created:function(){a.a.defaults.baseURL=this.$store.state.baseUrl,this.updateCash(),this.subscribe()},computed:{totalPrice:function(){var t=0;return this.items.forEach(function(e){t+=e.qty*e.price}),t},og:function(){return this.ogBol?this.ogBol?2:void 0:1}},methods:{checkOut:function(){var t=this;this.totalPrice>this.cash[this.og-1]?alert("秒数不足购买"):(a.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.currentUser.token}}).post("/api/18-19 FOA Hunter Game/Purchase",{og:this.og,item1:this.items[0].qty,item2:this.items[1].qty,item3:this.items[2].qty,item4:this.items[3].qty,item5:this.items[4].qty}).then(function(e){t.$notify.success({title:"成功购买",message:e.data,duration:1e3})}).catch(function(t){console.log(t)}),this.items.forEach(function(t){t.qty=0}))},updateCash:function(){var t=this;a.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.currentUser.token}}).get("/api/18-19 FOA Hunter Game/GetInventory").then(function(e){t.cash[0]=e.data[0].cash,t.cash[1]=e.data[1].cash,t.$forceUpdate()}).catch(function(t){console.log(t)})},subscribe:function(){var t=this,e=new o.a("e7fde66ab88312b757c3",{cluster:"ap1"});e.subscribe("18-19_FOA_Hunter_Game"),e.bind("PlayerEnded",function(e){t.updateCash()}),e.bind("Purchased",function(e){t.updateCash()})}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("el-switch",{staticStyle:{display:"block"},attrs:{"active-color":"#4f92ff","inactive-color":"#57cc5f","active-text":"OG2","inactive-text":"OG1"},model:{value:t.ogBol,callback:function(e){t.ogBol=e},expression:"ogBol"}}),t._v(" "),i("h3",[t._v("可用时间："+t._s(t.cash[t.og-1])+"秒")]),t._v(" "),i("el-row",{staticStyle:{"padding-bottom":"50px"}},t._l(t.items,function(e,a){return i("el-col",{attrs:{span:8,offset:"0"}},[i("el-card",{staticStyle:{margin:"20px"}},[i("img",{attrs:{src:n("fA8O")("./"+e.fileName),width:"200px"}}),t._v(" "),i("h5",[t._v("Price: "+t._s(e.price)+" seconds")]),t._v(" "),i("el-input-number",{attrs:{min:0,max:10},model:{value:e.qty,callback:function(n){t.$set(e,"qty",n)},expression:"item.qty"}})],1)],1)})),t._v(" "),i("el-row",[i("div",{staticStyle:{"background-color":"#555555",position:"fixed",bottom:"0px","z-index":"1",height:"50px",width:"100%","box-shadow":"0 0 20px grey"}},[i("el-col",{attrs:{span:20}},[i("h3",{staticStyle:{color:"ghostwhite","text-align":"left","margin-left":"30px","padding-top":"10px","padding-bottom":"0px"}},[t._v("Total price: "+t._s(t.totalPrice))])]),t._v(" "),i("el-col",{attrs:{span:4}},[i("el-button",{staticStyle:{height:"50px",width:"100%","background-color":"aquamarine","padding-top":"10px"},on:{click:function(e){t.checkOut()}}},[i("h3",[t._v("Check Out")])])],1)],1)])],1)},staticRenderFns:[]};var c=n("VU/8")(r,l,!1,function(t){n("jyX5")},"data-v-ccb7278c",null);e.default=c.exports},"8o/b":function(t,e,n){t.exports=n.p+"static/img/Frying Pan.602d8c2.png"},"9M+g":function(t,e){},ClrP:function(t,e,n){t.exports=n.p+"static/img/M416.7cebcb3.png"},DehN:function(t,e){},GVhm:function(t,e,n){t.exports=n.p+"static/img/Bag.ac0d5c1.png"},"HUt/":function(t,e,n){"use strict";var i=n("qRo1").a;var a=n("VU/8")(i,null,!1,function(t){n("n9mN")},null,null);e.a=a.exports},JCpY:function(t,e,n){"use strict";var i=n("rKsW").a;var a=n("VU/8")(i,null,!1,function(t){n("xBwK")},null,null);e.a=a.exports},JDVb:function(t,e,n){"use strict";var i=n("9NuQ").a;var a=n("VU/8")(i,null,!1,function(t){n("Y9O/")},null,null);e.a=a.exports},Jmt5:function(t,e){},KeDD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mtWM"),a=n.n(i),s=n("jIVf"),o=n.n(s),r={name:"MainDashBoard",data:function(){return{itemImages:["First Aid Pack.png","Helmet.png","Bag.png","Frying Pan.png","M416.png"],row:[{cash:0,survive:0,item:[]},{cash:0,survive:0,item:[]}]}},created:function(){a.a.defaults.baseURL=this.$store.state.baseUrl,this.updateInventory(),this.updateTime(),this.subscribe()},methods:{updateTime:function(){var t=this;a.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.currentUser.token}}).get("/api/18-19 FOA Hunter Game/GetTime").then(function(e){var n=e.data.og1,i=e.data.og2;t.row[0].survive=0,t.row[1].survive=0,n.forEach(function(e){null==e.end_time&&t.row[0].survive++}),i.forEach(function(e){null==e.end_time&&t.row[1].survive++}),t.$forceUpdate()}).catch(function(t){console.log(t)})},updateInventory:function(){var t=this;a.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.currentUser.token}}).get("/api/18-19 FOA Hunter Game/GetInventory").then(function(e){t.row[0].cash=e.data[0].cash,t.row[1].cash=e.data[1].cash,t.row[0].item[0]=e.data[0].item1,t.row[0].item[1]=e.data[0].item2,t.row[0].item[2]=e.data[0].item3,t.row[0].item[3]=e.data[0].item4,t.row[0].item[4]=e.data[0].item5,t.row[1].item[0]=e.data[1].item1,t.row[1].item[1]=e.data[1].item2,t.row[1].item[2]=e.data[1].item3,t.row[1].item[3]=e.data[1].item4,t.row[1].item[4]=e.data[1].item5,t.$forceUpdate()}).catch(function(t){console.log(t)})},subscribe:function(){var t=this,e=new o.a("e7fde66ab88312b757c3",{cluster:"ap1"});e.subscribe("18-19_FOA_Hunter_Game"),e.bind("PlayerStarted",function(e){t.updateTime()}),e.bind("PlayerEnded",function(e){t.updateTime(),t.updateInventory()}),e.bind("Purchased",function(e){t.updateInventory()})}}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("table",{staticStyle:{width:"100%"}},[i("tr",[t._m(0),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._l(t.itemImages,function(t){return i("th",[i("img",{staticStyle:{height:"100px"},attrs:{src:n("fA8O")("./"+t)}})])})],2),t._v(" "),t._l(t.row,function(e,n){return i("tr",[i("td",[i("h5",[t._v(t._s(n+1))])]),t._v(" "),i("td",[i("h5",[t._v(t._s(e.cash))])]),t._v(" "),i("td",[i("h5",[t._v(t._s(e.survive))])]),t._v(" "),t._l(e.item,function(e){return i("td",[i("h5",[t._v(t._s(e))])])})],2)})],2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("th",[e("h3",[this._v("OG")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",[e("h3",[this._v("Time")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("th",[e("h3",[this._v("Survive People")])])}]};var c=n("VU/8")(r,l,!1,function(t){n("WwZN")},"data-v-1bd2d7fd",null);e.default=c.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{staticClass:"nav-class"},[e("button",{staticClass:"bttn-stretch bttn-md bttn-primary"},[this._v("sdds")])])}]};var s=n("VU/8")(null,a,!1,function(t){n("RKjv")},null,null).exports,o=n("mtWM"),r=n.n(o),l={name:"App",data:function(){return{email:null,password:null}},methods:{handleLogin:function(){var t=this;r.a.create({headers:{"Content-Type":"application/json"}}).post("/oauth/token",{grant_type:"password",client_id:1,client_secret:"656qdZkintJzWSBKaaipFnRQzmP2SVrmdTPafbU5",username:this.email,password:this.password}).then(function(e){t.$store.commit("setToken",e.data.access_token)}).catch(function(e){alert("Password Error"),t.$store.commit("setToken",null),console.log(e)})},handleLogout:function(){this.$store.commit("setToken",null)}},created:function(){r.a.defaults.baseURL=this.$store.state.baseUrl}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-form"},[0==this.$store.state.currentUser.isLoggedIn?n("div",[n("el-input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{placeholder:"School Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),n("br"),t._v(" "),n("el-input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{placeholder:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),n("br"),t._v(" "),n("el-button",{staticStyle:{width:"300px"},attrs:{type:"primary"},on:{click:function(e){t.handleLogin()}}},[t._v("LOGIN")]),t._v(" "),n("br"),t._v(" "),n("a",{attrs:{href:this.$store.state.baseUrl+"/password/reset"}},[t._v("Reset Password")])],1):n("div",[n("h5",[t._v("Hi! "+t._s(this.$store.state.currentUser.name_ch))]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.handleLogout()}}},[t._v("LOGOUT")])],1)])},staticRenderFns:[]};var d=n("VU/8")(l,c,!1,function(t){n("i1U7")},"data-v-1f7b3a70",null).exports,u={name:"Events",data:function(){return{events:null}},methods:{handleClick:function(t){this.$router.push({path:"/Event?id="+t})},loadEvents:function(){var t=this;r.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.currentUser.token}}).get("/api/event/get/*").then(function(e){t.events=e.data.events,console.log(e.data.events)}).catch(function(t){console.log(t)})}},watch:{isLogin:function(){this.loadEvents()}},computed:{isLogin:function(){return this.$store.state.currentUser.isLoggedIn}},created:function(){r.a.defaults.baseURL=this.$store.state.baseUrl,this.loadEvents()}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.events,function(e){return n("div",{staticStyle:{"max-width":"300px","margin-left":"auto","margin-right":"auto","margin-top":"50px","margin-bottom":"50px"}},[n("el-card",{attrs:{"body-style":{padding:"0px"}}},[n("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(n){t.handleClick(e.id)}}},[n("img",{staticClass:"image",attrs:{src:t.$store.state.baseUrl+"/api/download"+e.thumbnail.filename}}),t._v(" "),n("div",{staticStyle:{padding:"14px"}},[n("h3",[t._v(t._s(e.title))]),t._v(" "),n("div",{staticClass:"bottom clearfix"},[n("time",{staticClass:"time"},[t._v(t._s(e.description))])])])])],1)],1)}))},staticRenderFns:[]};var f=n("VU/8")(u,p,!1,function(t){n("gOq7")},"data-v-a8aba03a",null).exports,h=n("gRE1"),v=n.n(h),m=n("pFYg"),_=n.n(m),g=n("mvHQ"),b=n.n(g),X=n("woOf"),y=n.n(X),x=n("1Wvq"),$=n.n(x),w=n("eO45"),U=n.n(w),E=n("DAYN"),S=n.n(E),k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title"},[n("div",{ref:"title",attrs:{hidden:!1}},[n("h5",[t._v(t._s(t.data.field.title))]),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.title.hidden=!0,t.$refs.titleEdit.hidden=!1}}},[n("i",{staticClass:"el-icon-edit-outline"})])]),t._v(" "),n("div",{ref:"titleEdit",attrs:{hidden:!0}},[n("el-input",{attrs:{size:"medium",placeholder:"Please input"},model:{value:t.data.field.title,callback:function(e){t.$set(t.data.field,"title",e)},expression:"data.field.title"}}),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.title.hidden=!1,t.$refs.titleEdit.hidden=!0}}},[n("i",{staticClass:"el-icon-success"})])],1)]),t._v(" "),n("div",{staticClass:"content"},[n("div",{ref:"content",attrs:{hidden:!1}},[n("span",[t._v(t._s(t.data.field.content))]),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.content.hidden=!0,t.$refs.contentEdit.hidden=!1}}},[n("i",{staticClass:"el-icon-edit-outline"})])]),t._v(" "),n("div",{ref:"contentEdit",attrs:{hidden:!0}},[n("el-input",{attrs:{size:"mini",placeholder:"Please input"},model:{value:t.data.field.content,callback:function(e){t.$set(t.data.field,"content",e)},expression:"data.field.content"}}),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.content.hidden=!1,t.$refs.contentEdit.hidden=!0}}},[n("i",{staticClass:"el-icon-success"})])],1)])])},staticRenderFns:[]},C=n("VU/8")({name:"Description",props:["id"],data:function(){return{data:{field:{id:"",type:this.$options.name,isTitle:!0,title:"This is the title",content:"This is the content",isInput:!1}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},k,!1,null,null,null).exports,R={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},T=n("VU/8")({name:"TextInput",props:["id"],data:function(){return{data:{field:{id:"",type:this.$options.name,title:"Input the text",placeHolder:"This is placeholder",isInput:!0}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},R,!1,null,null,null).exports,I={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  this is imgage selection\n")])},staticRenderFns:[]},A=n("VU/8")({name:"TextArea",props:["id"],data:function(){return{data:{field:{id:"",type:this.$options.name,title:"Enter the text",placeHolder:"Enter the text",isInput:!0,text:"",limit:!1}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},I,!1,null,null,null).exports,F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title"},[n("div",{ref:"title",attrs:{hidden:!1}},[n("h5",[t._v(t._s(t.data.field.title))]),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.title.hidden=!0,t.$refs.titleEdit.hidden=!1}}},[n("i",{staticClass:"el-icon-edit-outline"})])]),t._v(" "),n("div",{ref:"titleEdit",attrs:{hidden:!0}},[n("el-input",{attrs:{size:"medium",placeholder:"Please input"},model:{value:t.data.field.title,callback:function(e){t.$set(t.data.field,"title",e)},expression:"data.field.title"}}),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.title.hidden=!1,t.$refs.titleEdit.hidden=!0}}},[n("i",{staticClass:"el-icon-success"})])],1)]),t._v(" "),n("div",[n("el-radio",{attrs:{label:"1",border:""},model:{value:t.radio7,callback:function(e){t.radio7=e},expression:"radio7"}},[t._v("Option A")]),t._v(" "),n("el-radio",{attrs:{label:"2",border:""},model:{value:t.radio7,callback:function(e){t.radio7=e},expression:"radio7"}},[t._v("Option B")])],1)])},staticRenderFns:[]},P=n("VU/8")({name:"Selections",props:["id"],data:function(){return{data:{field:{id:"",type:this.$options.name,title:"Please select",isInput:!0,isMultiple:!1,selections:[]}},template:{selection:{id:"",text:""}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},F,!1,null,null,null).exports,D={name:"ImageSelections",props:["id"],data:function(){return{data:{field:{id:"",type:this.$options.name,title:"Please Select",isInput:!0,selections:[],isMultiple:!1,photoRatio:null}},template:{selection:{filename:"",text:"",file:null}}}},methods:{onChanged:function(t){var e=y()({},this.template.selection);e.file=t.raw,this.data.field.selections.push(e)},onRemoved:function(t,e){for(var n=this.data.field.selections.length,i=0;i<n;i++)this.data.field.selections[i].file.uid==t.uid&&(this.data.field.selections.splice(i,1),console.log("remove  "+i))}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-upload",{attrs:{"auto-upload":!1,action:"https://jsonplaceholder.typicode.com/posts/","list-type":"picture-card","on-change":t.onChanged,"on-remove":t.onRemoved}},[n("i",{staticClass:"el-icon-plus"})]),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},staticRenderFns:[]},V=n("VU/8")(D,O,!1,null,null,null).exports,j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title"},[n("div",{ref:"title",attrs:{hidden:!1}},[n("h5",[t._v("\n          "+t._s(t.data.field.title)+"\n          "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.title.hidden=!0,t.$refs.titleEdit.hidden=!1}}},[n("i",{staticClass:"el-icon-edit-outline"})])])]),t._v(" "),n("div",{ref:"titleEdit",attrs:{hidden:!0}},[n("el-input",{attrs:{size:"medium",placeholder:"Please input"},model:{value:t.data.field.title,callback:function(e){t.$set(t.data.field,"title",e)},expression:"data.field.title"}}),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.title.hidden=!1,t.$refs.titleEdit.hidden=!0}}},[n("i",{staticClass:"el-icon-success"})])],1)]),t._v(" "),n("div",{staticClass:"content"},[n("div",{ref:"content",attrs:{hidden:!1}},[n("el-button",[t._v(t._s(t.data.field.content))]),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.content.hidden=!0,t.$refs.contentEdit.hidden=!1}}},[n("i",{staticClass:"el-icon-edit-outline"})])],1),t._v(" "),n("div",{ref:"contentEdit",attrs:{hidden:!0}},[n("el-input",{attrs:{size:"mini",placeholder:"Please input"},model:{value:t.data.field.content,callback:function(e){t.$set(t.data.field,"content",e)},expression:"data.field.content"}}),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.content.hidden=!1,t.$refs.contentEdit.hidden=!0}}},[n("i",{staticClass:"el-icon-success"})])],1)])])},staticRenderFns:[]},B=n("VU/8")({name:"UploadButton",props:["id"],data:function(){return{data:{field:{id:"",type:this.$options.name,title:"Upload your file",content:"Upload",isInput:!0,limit:!0,filter:""}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},j,!1,null,null,null).exports,G={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"content"},[n("div",{ref:"content",attrs:{hidden:!1}},[n("el-button",[t._v(t._s(t.data.field.content))]),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.content.hidden=!0,t.$refs.contentEdit.hidden=!1}}},[n("i",{staticClass:"el-icon-edit-outline"})])],1),t._v(" "),n("div",{ref:"contentEdit",attrs:{hidden:!0}},[n("el-input",{attrs:{size:"mini",placeholder:"Please input"},model:{value:t.data.field.content,callback:function(e){t.$set(t.data.field,"content",e)},expression:"data.field.content"}}),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.content.hidden=!1,t.$refs.contentEdit.hidden=!0}}},[n("i",{staticClass:"el-icon-success"})])],1)])])},staticRenderFns:[]},z=n("VU/8")({name:"SubmitButton",props:["id"],data:function(){return{data:{field:{id:"",content:"Submit",type:this.$options.name,isInput:!0}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},G,!1,null,null,null).exports,H={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._v("\n  "+t._s(t.event.title)+"\n")])},staticRenderFns:[]},M=n("VU/8")({name:"ShowResponse",props:["id","event"],data:function(){return{data:{field:{id:"",type:this.$options.name,title:"This is the title",isInput:!1,selectedFieldId:""}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},H,!1,null,null,null).exports,L={name:"AddEvent",data:function(){return{selectedTemplate:"",sampleImageSelections:[{id:"1",src:"http://placekitten.com/280/320",alt:"Alt Image 1"},{id:"2",src:"http://placekitten.com/280/320",alt:"Alt Image 2"}],sampleUploadFiles:[],events:{title:"",thumbnail:{file:"",filename:""},page:[]},existingEvents:[],template:{page:{title:"New Tab",role:"",description:"",isSubmit:!0,fields:[]}}}},components:{"file-upload":$.a,draggable:S.a,VueSelectImage:U.a,Description:C,TextInput:T,TextArea:A,Selections:P,ImageSelections:V,UploadButton:B,SubmitButton:z,ShowResponse:M},methods:{assignEvent:function(t){this.events=y()({},t)},onFieldUpdated:function(t){var e=0,n=!1;this.events.page[0].fields.forEach(function(i){i.id==t.field.id?n=!0:n||e++}),e<this.events.page[0].fields.length?this.events.page[0].fields[e]=t.field:console.log("Error in onFieldUpdated")},onAdd:function(){if(""==this.selectedTemplate|null==this.selectedTemplate)this.$notify.error({title:"Error",message:"You did not select any things"});else{var t=y()({},this.template[this.selectedTemplate].field);t.id=this.$uuid.v4(),this.events.page[0].fields.push(t)}},onChanged:function(t){this.events.thumbnail.file=t.raw},onRemoved:function(){this.events.thumbnail.file=null},onSubmit:function(){var t=[];this.getAllFile(this.events,t);var e=new FormData,n=b()(this.events);t.forEach(function(t){e.append("file[]",t)}),e.append("event",n),r.a.post("/api/event/post",e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.$store.state.currentUser.token}}).then(function(t){console.log(t)}).catch(function(t){console.log(t.response)})},getAllFile:function(t,e){var n=this;if(null!=t&&""!=t)if(t.isArray);else if("object"==(void 0===t?"undefined":_()(t))){t.hasOwnProperty("file")&&null!=t.file&&""!=t.file&&e.push(t.file),v()(t).forEach(function(t){n.getAllFile(t,e)})}}},created:function(){var t=this;r.a.defaults.baseURL=this.$store.state.baseUrl,r.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.currentUser.token}}).get("/api/event/get/*").then(function(e){t.existingEvents=e.data.events,console.log("existing event: "),console.log(t.existingEvents)}).catch(function(t){console.log(t.response)}),this.events.page.push(this.template.page)}},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-dropdown",{on:{command:t.assignEvent}},[n("el-button",{attrs:{type:"primary"}},[t._v("\n      Existing Events"),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.existingEvents,function(e){return n("el-dropdown-item",{attrs:{command:e}},[t._v(t._s(e.title))])}))],1),t._v(" "),n("el-input",{attrs:{placeholder:"Event Title"},model:{value:t.events.title,callback:function(e){t.$set(t.events,"title",e)},expression:"events.title"}}),t._v(" "),n("button",{on:{click:function(e){t.events.page.push(t.template.page)}}},[t._v("Add Tab")]),t._v(" "),n("el-tabs",{attrs:{type:"border-card"}},t._l(t.events.page,function(e,i){return n("el-tab-pane",{attrs:{label:e.title}},[n("el-input",{model:{value:e.title,callback:function(n){t.$set(e,"title",n)},expression:"p.title"}}),t._v(" "),n("el-input",{attrs:{placeholder:"Event Description"},model:{value:e.description,callback:function(n){t.$set(e,"description",n)},expression:"p.description"}}),t._v(" "),n("h7",[t._v("Is this form to be submit?")]),t._v(" "),n("el-switch",{model:{value:e.isSubmit,callback:function(n){t.$set(e,"isSubmit",n)},expression:"p.isSubmit"}}),t._v(" "),n("br"),t._v(" "),n("el-dropdown",{on:{command:function(t){e.role=t}}},[n("span",{staticClass:"el-dropdown-link"},[""==e.role?n("span",[t._v("Role available to see this event")]):n("span",[t._v(t._s(e.role.charAt(0).toUpperCase()+e.role.slice(1)))]),t._v(" "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"guest"}},[t._v("Guest")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"member"}},[t._v("Member")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"president"}},[t._v("President")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"admin"}},[t._v("Admin")])],1)],1),t._v(" "),n("el-upload",{staticClass:"upload-demo",attrs:{limit:1,drag:"","auto-upload":!1,action:"https://jsonplaceholder.typicode.com/posts/","on-change":t.onChanged,"on-remove":t.onRemoved}},[n("i",{staticClass:"el-icon-upload"}),t._v(" "),n("div",{staticClass:"el-upload__text"},[t._v("Upload the event thumbnail")])]),t._v(" "),n("br"),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[n("description",{on:{created:function(e){t.template.Description=e}}}),t._v(" "),n("text-input",{on:{created:function(e){t.template.TextInput=e}}}),t._v(" "),n("text-area",{on:{created:function(e){t.template.TextArea=e}}}),t._v(" "),n("selections",{on:{created:function(e){t.template.Selections=e}}}),t._v(" "),n("image-selections",{on:{created:function(e){t.template.ImageSelections=e}}}),t._v(" "),n("upload-button",{on:{created:function(e){t.template.UploadButton=e}}}),t._v(" "),n("submit-button",{on:{created:function(e){t.template.SubmitButton=e}}}),t._v(" "),n("show-response",{on:{created:function(e){t.template.ShowResponse=e}}})],1),t._v(" "),n("el-dropdown",{attrs:{"split-button":"",type:"primary"},on:{click:t.onAdd,command:function(e){t.selectedTemplate=e}}},[t._v("\n        Add "+t._s(t.selectedTemplate.replace(/([A-Z])/g," $1").trim())+"\n        "),n("el-dropdown-menu",{ref:"dropdown",refInFor:!0,attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",{attrs:{command:"Description"}},[t._v("Description")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"TextInput"}},[t._v("Text Input")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"TextArea"}},[t._v("Text Area")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"Selections"}},[t._v("Selections")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"ImageSelections"}},[t._v("Image Selections")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"UploadButton"}},[t._v("Upload Button")]),t._v(" "),n("el-dropdown-item",{attrs:{command:"SubmitButton"}},[t._v("Submit Button")])],1)],1),t._v(" "),t._l(e.fields,function(e){return n("div",[n(e.type,{tag:"component",attrs:{id:e.id},on:{dataChanged:t.onFieldUpdated}})],1)})],2)})),t._v(" "),n("el-button",{staticStyle:{"margin-top":"100px"},on:{click:t.onSubmit}},[t._v("Add Event")])],1)},staticRenderFns:[]},q=n("VU/8")(L,N,!1,null,null,null).exports,W=n("Xxa5"),K=n.n(W),Z=n("exGp"),Q=n.n(Z),Y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title"},[n("h5",{directives:[{name:"show",rawName:"v-show",value:""!=t.field.title,expression:"field.title!=''"}]},[t._v(t._s(t.field.title))])]),t._v(" "),n("div",[n("span",{directives:[{name:"show",rawName:"v-show",value:""!=t.field.title,expression:"field.title!=''"}]},[t._v(t._s(t.field.content))])])])},staticRenderFns:[]},J=n("VU/8")({name:"Description",props:["field"]},Y,!1,null,null,null).exports,tt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h4",[t._v("\n    "+t._s(t.field.title)+"\n  ")]),t._v(" "),n("el-input",{staticStyle:{"max-width":"300px"},attrs:{placeholder:t.field.placeHolder},model:{value:t.eventData.content,callback:function(e){t.$set(t.eventData,"content",e)},expression:"eventData.content"}})],1)},staticRenderFns:[]},et=n("VU/8")({name:"TextInput",props:["field"],data:function(){return{eventData:{id:this.field.id,content:""}}},watch:{eventData:{handler:function(t,e){this.$emit("dataChanged",this.eventData)},deep:!0}}},tt,!1,null,null,null).exports,nt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  this is imgage selection\n")])},staticRenderFns:[]},it=n("VU/8")({name:"TextArea",props:["id"],data:function(){return{data:{field:{id:"",type:this.$options.name,title:"Enter the text",placeHolder:"Enter the text",isInput:!0,text:"",limit:!1}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},nt,!1,null,null,null).exports,at={name:"Selections",props:["field","currentEventId"],data:function(){return{eventData:{id:this.field.id,content:""}}},methods:{onSelectImage:function(t){var e=(this.$store.state.baseUrl+"/api/download/").length;this.eventData.content=t.src.substring(e)}},watch:{eventData:{handler:function(t,e){this.$emit("dataChanged",this.eventData)},deep:!0}},computed:{dropdownSize:function(){return this.field.selections.length<15?"medium":this.field.selections.length<23?"small":"mini"}},created:function(){console.log(this.field)}},st={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-select",{attrs:{placeholder:t.field.title},model:{value:t.eventData.content,callback:function(e){t.$set(t.eventData,"content",e)},expression:"eventData.content"}},t._l(t.field.selections,function(t){return n("el-option",{key:t,attrs:{label:t,value:t}})}))],1)},staticRenderFns:[]},ot=n("VU/8")(at,st,!1,null,null,null).exports,rt=n("fZjL"),lt=n.n(rt),ct={name:"ImageSelections",props:["field","currentEventId"],data:function(){return{eventData:{id:this.field.id,content:""},dataImage:[],showResult:!1,selectionResult:[],totalResult:0}},components:{VueSelectImage:U.a},methods:{onSelectImage:function(t){var e=(this.$store.state.baseUrl+"/api/download/").length;this.eventData.content=t.src.substring(e)}},watch:{eventData:{handler:function(t,e){this.$emit("dataChanged",this.eventData)},deep:!0}},created:function(){var t=this;r.a.defaults.baseURL=this.$store.state.baseUrl;var e=0;(this.field.selections.forEach(function(n){e++,t.dataImage.push({id:e,src:t.$store.state.baseUrl+"/api/download"+n.filename})}),this.showResult=this.field.showResult,1==this.showResult)&&r.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.currentUser.token}}).get("/api/eventData/get/"+this.currentEventId+"?fieldId="+this.field.id).then(function(e){t.selectionResult=e.data,lt()(t.selectionResult).forEach(function(e){t.totalResult+=t.selectionResult[e]})}).catch(function(t){console.log(t)})}},dt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title"},[n("h5",{directives:[{name:"show",rawName:"v-show",value:""!=t.field.title,expression:"field.title!=''"}]},[t._v(t._s(t.field.title))])]),t._v(" "),t.showResult?n("div",[t._v("\n    目前票数:\n    "),t._l(t.selectionResult,function(e,i){return n("div",{staticStyle:{"margin-bottom":"20px"}},[n("img",{staticStyle:{"max-width":"500px"},attrs:{src:t.$store.state.baseUrl+"/api/download/"+i}}),t._v(" "),n("el-progress",{staticStyle:{"max-width":"100px"},attrs:{"text-inside":!0,"stroke-width":18,percentage:100*e/t.totalResult}})],1)})],2):t._e(),t._v(" "),n("vue-select-image",{staticStyle:{margin:"10%","margin-bottom":"0","margin-top":"5%"},attrs:{dataImages:t.dataImage},on:{onselectimage:t.onSelectImage}})],1)},staticRenderFns:[]},ut=n("VU/8")(ct,dt,!1,null,null,null).exports,pt={name:"UploadButton",props:["field"],data:function(){return{eventData:{id:this.field.id,files:[]},fileTemplate:{filename:null,file:null}}},methods:{onChanged:function(t){var e=y()({},this.fileTemplate);e.file=t.raw,this.eventData.files.push(e)},onRemoved:function(t,e){for(var n=this.eventData.files.length,i=0;i<n;i++)this.eventData.files[i].file.uid==t.uid&&this.eventData.files(i,1)}},watch:{eventData:{handler:function(t,e){this.$emit("dataChanged",this.eventData)},deep:!0}}},ft={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("el-upload",{attrs:{"auto-upload":!1,action:"https://jsonplaceholder.typicode.com/posts/","list-type":"picture-card","on-change":t.onChanged,"on-remove":t.onRemoved,limit:t.field.limit}},[n("i",{staticClass:"el-icon-plus"})]),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])},staticRenderFns:[]},ht=n("VU/8")(pt,ft,!1,null,null,null).exports,vt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"content"},[n("div",{ref:"content",attrs:{hidden:!1}},[n("el-button",[t._v(t._s(t.data.field.content))]),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.content.hidden=!0,t.$refs.contentEdit.hidden=!1}}},[n("i",{staticClass:"el-icon-edit-outline"})])],1),t._v(" "),n("div",{ref:"contentEdit",attrs:{hidden:!0}},[n("el-input",{attrs:{size:"mini",placeholder:"Please input"},model:{value:t.data.field.content,callback:function(e){t.$set(t.data.field,"content",e)},expression:"data.field.content"}}),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.content.hidden=!1,t.$refs.contentEdit.hidden=!0}}},[n("i",{staticClass:"el-icon-success"})])],1)])])},staticRenderFns:[]},mt=n("VU/8")({name:"SubmitButton",props:["id"],data:function(){return{data:{field:{id:"",content:"Submit",type:this.$options.name,isInput:!0}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},vt,!1,null,null,null).exports,_t=n("BO1k"),gt=n.n(_t),bt={name:"ShowResponse",props:["field","currentEventId"],data:function(){return{totalResult:0,selectionReponse:{},loadCompleted:!1}},created:function(){var t=this;return Q()(K.a.mark(function e(){var n,i,a,s,o,l,c;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.a.defaults.baseURL=t.$store.state.baseUrl,"ImageSelections"!=t.field.responseField.type){e.next=7;break}(n=r.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.$store.state.currentUser.token}})).get("/api/eventData/get/"+t.currentEventId+"?fieldId="+t.field.responseField.id).then(function(e){console.log("/api/eventData/get/"+t.currentEventId+"?fieldId="+t.field.responseField.id),t.selectionReponse=e.data,lt()(t.selectionReponse).forEach(function(e){t.totalResult+=t.selectionReponse[e]})}).catch(function(t){console.log(t)}),t.loadCompleted=!0,e.next=37;break;case 7:if("MultipleSelections"!=t.field.responseField.type){e.next=37;break}i=!0,a=!1,s=void 0,e.prev=11,o=gt()(t.field.responseField.id);case 13:if(i=(l=o.next()).done){e.next=21;break}return c=l.value,n=r.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.$store.state.currentUser.token}}),e.next=18,n.get("/api/eventData/get/"+t.currentEventId+"?fieldId="+c).then(function(e){console.log("/api/eventData/get/"+t.currentEventId+"?fieldId="+c);for(var n in e.data)t.selectionReponse.hasOwnProperty(n)?t.selectionReponse[n]+=e.data[n]:t.selectionReponse[n]=e.data[n]}).catch(function(t){console.log(t)});case 18:i=!0,e.next=13;break;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(11),a=!0,s=e.t0;case 27:e.prev=27,e.prev=28,!i&&o.return&&o.return();case 30:if(e.prev=30,!a){e.next=33;break}throw s;case 33:return e.finish(30);case 34:return e.finish(27);case 35:lt()(t.selectionReponse).forEach(function(e){t.totalResult+=t.selectionReponse[e]}),t.loadCompleted=!0;case 37:case"end":return e.stop()}},e,t,[[11,23,27,35],[28,,30,34]])}))()}},Xt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.loadCompleted,expression:"!loadCompleted"}]},[n("div",{staticClass:"title"},[""!=t.field.title?n("h5",[t._v(t._s(t.field.title))]):t._e()]),t._v(" "),1==t.loadCompleted?n("div",["ImageSelections"==t.field.responseField.type?n("div",t._l(t.selectionReponse,function(e,i){return n("div",{staticStyle:{"margin-bottom":"50px"}},[n("img",{staticStyle:{"max-width":"300px"},attrs:{src:t.$store.state.baseUrl+"/api/download/"+i}}),t._v(" "),n("br"),t._v("票数：("+t._s(e)+" / "+t._s(t.totalResult)+")\n      ")])})):"MultipleSelections"==t.field.responseField.type?n("div",t._l(t.selectionReponse,function(e,i){return n("div",{staticStyle:{"margin-bottom":"50px"}},[t._v("\n        "+t._s(i)+"\n        "),n("br"),t._v("票数：("+t._s(e)+" / "+t._s(t.totalResult)+")\n        "),n("el-progress",{staticStyle:{"max-width":"100px"},attrs:{percentage:parseInt(100*e/t.totalResult)}})],1)})):t._e()]):t._e()])},staticRenderFns:[]},yt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{staticStyle:{"max-width":"80%"},attrs:{src:this.$store.state.baseUrl+"/api/download"+this.field.filename}})])},staticRenderFns:[]},xt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("video",{attrs:{width:"80%",controls:""}},[n("source",{attrs:{src:this.$store.state.baseUrl+"/api/download"+t.field.filename}}),t._v("\n    If video unable to play, click: "+t._s(this.$store.state.baseUrl+"/api/download"+t.field.filename)+"\n  ")])])},staticRenderFns:[]},$t={name:"Page",props:["page","currentEventId"],data:function(){return{response:[]}},components:{Description:J,TextInput:et,TextArea:it,Selections:ot,ImageSelections:ut,UploadButton:ht,SubmitButton:mt,ShowResponse:n("VU/8")(bt,Xt,!1,null,null,null).exports,Picture:n("VU/8")({name:"Picture",props:["field"]},yt,!1,null,null,null).exports,Video:n("VU/8")({name:"Video",props:["field"]},xt,!1,null,null,null).exports},methods:{onDataUpdated:function(t){console.log(t);var e=0,n=!1;this.response.forEach(function(i){i.id==t.id?n=!0:n||e++}),e<this.response.length?this.response[e]=t:this.response.push(t)},onSubmit:function(){var t=this,e=[];this.getAllFile(this.response,e);var n=new FormData,i=b()(this.response);e.forEach(function(t){n.append("file[]",t)}),n.append("eventData",i),r.a.post("/api/eventData/post/"+this.currentEventId+"/"+this.page.id,n,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.$store.state.currentUser.token}}).then(function(e){console.log(e),t.$notify.success({title:"成功",message:"提交成功：".concat(t.page.title)}),t.$router.push({name:"Home"})}).catch(function(e){console.log(e.response);var n="提交失败：".concat(t.page.title);421==e.response.status&&(n="提交失败：你已经提交过了。",t.$router.push({name:"Home"})),t.$notify.error({title:"错误",message:n})})},getAllFile:function(t,e){var n=this;if(null!=t&&""!=t)if(t.isArray);else if("object"==(void 0===t?"undefined":_()(t))){t.hasOwnProperty("file")&&null!=t.file&&""!=t.file&&(e.push(t.file),console.log("pushed file!! "+t.file)),console.log(void 0===t?"undefined":_()(t)),v()(t).forEach(function(t){n.getAllFile(t,e)})}}},created:function(){r.a.defaults.baseURL=this.$store.state.baseUrl}},wt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[""!=t.page.description?n("h6",{staticStyle:{"margin-bottom":"80px","white-space":"pre-line"}},[t._v(t._s(t.page.description))]):t._e(),t._v(" "),t._l(t.page.fields,function(e){return n("div",[n(e.type,{tag:"component",staticStyle:{"margin-top":"10px"},attrs:{currentEventId:t.currentEventId,field:e},on:{dataChanged:t.onDataUpdated}})],1)}),t._v(" "),t.page.isSubmit?n("el-button",{staticStyle:{"margin-top":"80px","margin-bottom":"50px"},attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("提交")]):t._e()],2)},staticRenderFns:[]},Ut=n("VU/8")($t,wt,!1,null,null,null).exports,Et={name:"Event",data:function(){return{event:null,loadCompleted:!1}},components:{Page:Ut},methods:{},created:function(){var t=this;return Q()(K.a.mark(function e(){var n;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.a.defaults.baseURL=t.$store.state.baseUrl,n=r.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.$store.state.currentUser.token}}),e.next=4,n.get("/api/event/get/"+t.$route.query.id).then(function(e){t.event=e.data.events}).catch(function(t){console.log(t)});case 4:t.loadCompleted=!0;case 5:case"end":return e.stop()}},e,t)}))()},computed:{}},St={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"text-align":"left","margin-left":"5%","margin-right":"5%"}},[n("div",[1==t.loadCompleted?n("el-tabs",{ref:"tab",attrs:{type:"border-card"}},t._l(t.event.page,function(e){return n("el-tab-pane",{attrs:{label:e.title,name:e.title}},[n("page",{attrs:{page:e,currentEventId:t.event.id}})],1)})):t._e()],1)])},staticRenderFns:[]},kt={name:"App",components:{"nav-bar":s,"login-form":d,events:f,"add-event":q,backup:n("VU/8")(Et,St,!1,null,null,null).exports},created:function(){r.a.defaults.baseURL=this.$store.state.baseUrl;var t=localStorage.getItem("token");null!=t&&this.$store.commit("setToken",t)}},Ct={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var Rt=n("VU/8")(kt,Ct,!1,function(t){n("1Wv4")},null,null).exports,Tt=n("/ocq"),It={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{staticStyle:{width:"300px","margin-bottom":"10px"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("关于我们")]),t._v(" "),n("el-dialog",{attrs:{title:"关于我们",visible:t.dialogVisible,width:"90%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("span",[t._v(t._s(t.aboutUs))]),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("OK")])],1)])],1)},staticRenderFns:[]},At=n("VU/8")({name:"AboutUs",data:function(){return{aboutUs:"成立于1983年，由就读于新加坡国立大学(NUS)以及南洋理工大学(NTU)的独中生毕业生组成。 本联谊会主要维系及增进独中生之间的感情，与董教总及各独中保持联络以提供新加坡大学的最新资料，协助新生适应大学生。每年AMCISA除了办如中秋晚会或新春晚会等的活动外，还会在七月中旬办迎新营，协助即将前来大学的独中生们处理学生证的申请、身体检查、贷款等繁杂手续。",dialogVisible:!1}}},It,!1,null,null,null).exports,Ft=(n("jIVf"),{name:"Home",data:function(){return{file:"",timer:""}},components:{AboutUs:At,"login-form":d,events:f,"add-event":q,"about-us":At},methods:{submitFile:function(){var t=new FormData;t.append("file",this.file),t.append("extension","jpeg"),r.a.post("/api/upload",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t)}).catch(function(){console.log("FAILURE!!")})},handleFileUpload:function(){this.file=this.$refs.file.files[0]}}}),Pt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"title",staticStyle:{"font-size":"6rem"}},[t._v("AMCISA")]),t._v(" "),n("router-link",{attrs:{to:"/info"}},[n("el-button",{staticStyle:{width:"300px","margin-bottom":"10px"}},[t._v("升学资讯")])],1),t._v(" "),n("about-us"),t._v(" "),n("login-form"),t._v(" "),n("events")],1)},staticRenderFns:[]};var Dt=n("VU/8")(Ft,Pt,!1,function(t){n("smSL")},"data-v-6238f340",null).exports,Ot={name:"Event",data:function(){return{event:null,loadCompleted:!1}},components:{Page:Ut},methods:{},created:function(){var t=this;return Q()(K.a.mark(function e(){var n;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.a.defaults.baseURL=t.$store.state.baseUrl,n=r.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.$store.state.currentUser.token}}),e.next=4,n.get("/api/event/get/"+t.$route.query.id).then(function(e){t.event=e.data.events}).catch(function(t){console.log(t)});case 4:t.loadCompleted=!0;case 5:case"end":return e.stop()}},e,t)}))()},computed:{}},Vt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"text-align":"left","margin-left":"5%","margin-right":"5%"}},[n("div",[1==t.loadCompleted?n("el-tabs",{ref:"tab",attrs:{type:"border-card"}},t._l(t.event.page,function(e,i){return n("el-tab-pane",{attrs:{label:e.title,name:i.toString()}},[n("page",{attrs:{page:e,currentEventId:t.event.id}})],1)})):t._e()],1)])},staticRenderFns:[]},jt=n("VU/8")(Ot,Vt,!1,null,null,null).exports,Bt={name:"AddEvent",data:function(){return{info:{category:"",title:"",description:""}}},methods:{addInfo:function(){r.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.currentUser.token}}).post("/api/info/post",{info:this.info}).then(function(t){alert("successfully created events")}).catch(function(t){alert("Add Info Error"),console.log(t)})}},created:function(){r.a.defaults.baseURL=this.$store.state.baseUrl}},Gt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{width:"600px","margin-left":"auto","margin-right":"auto"}},[n("h5",[t._v("Add Info Here")]),t._v(" "),n("el-input",{attrs:{placeholder:"Category"},model:{value:t.info.category,callback:function(e){t.$set(t.info,"category",e)},expression:"info.category"}}),t._v(" "),n("el-input",{attrs:{placeholder:"Title"},model:{value:t.info.title,callback:function(e){t.$set(t.info,"title",e)},expression:"info.title"}}),t._v(" "),n("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Description"},model:{value:t.info.description,callback:function(e){t.$set(t.info,"description",e)},expression:"info.description"}}),t._v(" "),n("el-button",{on:{click:function(e){t.addInfo()}}},[t._v("ADD INFO")])],1)},staticRenderFns:[]},zt=n("VU/8")(Bt,Gt,!1,null,null,null).exports,Ht={name:"Events",data:function(){return{info:[],loadCompleted:!1}},methods:{},created:function(){var t=this;return Q()(K.a.mark(function e(){var n;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.a.defaults.baseURL=t.$store.state.baseUrl,n=r.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.$store.state.currentUser.token}}),e.next=4,n.get("/api/info/get").then(function(e){e.data.info.forEach(function(e){for(var n=0;n<t.info.length;n++)if(t.info[n][0].category==e.content.category){t.info[n].push(e.content);break}n>=t.info.length&&(t.info[n]=[],t.info[n].push(e.content))})}).catch(function(t){console.log(t)});case 4:t.loadCompleted=!0;case 5:case"end":return e.stop()}},e,t)}))()}},Mt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loadCompleted?n("div",t._l(t.info,function(e){return n("div",{staticStyle:{"font-size":"large"}},[n("el-card",{staticClass:"box-card",staticStyle:{margin:"50px"}},[n("el-collapse",{staticStyle:{"text-align":"left"}},[n("h4",[t._v(t._s(e[0].category))]),t._v(" "),t._l(e,function(e){return n("div",[n("el-collapse-item",{attrs:{title:e.title}},[n("pre",{staticStyle:{"margin-bottom":"-10px"}},[t._v(t._s(e.description))])])],1)})],2)],1)],1)})):t._e(),t._v(" "),n("router-link",{staticStyle:{"align-self":"left"},attrs:{to:"/"}},[n("el-button",{staticStyle:{width:"300px","margin-bottom":"10px"}},[t._v("返回主页")])],1)],1)},staticRenderFns:[]},Lt=n("VU/8")(Ht,Mt,!1,null,null,null).exports;i.default.use(Tt.a);var Nt=new Tt.a({routes:[{path:"/",name:"Home",component:Dt},{path:"/Event",name:"Event",component:jt},{path:"/AddEvent",name:"AddEvent",component:q},{path:"/AddInfo",name:"AddInfo",component:zt},{path:"/Info",name:"Info",component:Lt},{path:"/18-19FOAHunterGame/PlayerStart",component:n("XeQD").default},{path:"/18-19FOAHunterGame/PlayerEnd",component:n("fw1U").default},{path:"/18-19FOAHunterGame/MainDashBoard",component:n("KeDD").default},{path:"/18-19FOAHunterGame/TimeDashBoard",component:n("61QZ").default},{path:"/18-19FOAHunterGame/ShoppingPage",component:n("7Xxz").default},{path:"/18-19FOAHunterGame/Reset",component:n("iRp5").default}]}),qt=n("NYxO");i.default.use(qt.a);var Wt=new qt.a.Store({state:{currentUser:{id:null,matric_no:null,email:null,name_en:null,name_ch:null,gender:null,course:null,birth_date:null,secondary_school:null,phone_sg:null,phone_my:null,university:null,token:null,isLoggedIn:!1},baseUrl:"http://amcisa.org"},mutations:{setToken:function(t,e){var n=this;null!=e?r.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).get(t.baseUrl+"/api/user").then(function(n){localStorage.setItem("token",e),t.currentUser.token=e,t.currentUser.isLoggedIn=!0,t.currentUser.matric_no=n.data.user.matric_no,t.currentUser.email=n.data.user.email,t.currentUser.name_en=n.data.user.name_en,t.currentUser.name_ch=n.data.user.name_ch,t.currentUser.gender=n.data.user.gender,t.currentUser.course=n.data.user.course,t.currentUser.birth_date=n.data.user.birth_date,t.currentUser.secondary_school=n.data.user.secondary_school,t.currentUser.phone_sg=n.data.user.phone_sg,t.currentUser.phone_my=n.data.user.phone_my,t.currentUser.university=n.data.user.university}).catch(function(t){alert("Password Error"),n.$store.commit("setToken",null),console.log(t)}):(localStorage.removeItem("token"),t.currentUser.matric_no=null,t.currentUser.email=null,t.currentUser.name_en=null,t.currentUser.name_ch=null,t.currentUser.gender=null,t.currentUser.course=null,t.currentUser.birth_date=null,t.currentUser.secondary_school=null,t.currentUser.phone_sg=null,t.currentUser.phone_my=null,t.currentUser.university=null,t.currentUser.token=null,t.currentUser.isLoggedIn=!1)}}}),Kt=n("zL8q"),Zt=n.n(Kt),Qt=n("e6fC"),Yt=n("fzx2"),Jt=n("n29Z"),te=n.n(Jt);n("Jmt5"),n("9M+g"),n("tvR6");i.default.config.productionTip=!1,i.default.use(Qt.a),i.default.use(Zt.a),i.default.use(Yt.a),i.default.use(te.a),new i.default({el:"#app",router:Nt,store:Wt,components:{App:Rt},template:"<App/>"})},NWdE:function(t,e){},RKjv:function(t,e){},WwZN:function(t,e){},XeQD:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mtWM"),a=n.n(i),s={name:"PlayerStart",methods:{Start:function(t){var e=this;a.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.currentUser.token}}).post("/api/18-19 FOA Hunter Game/PlayerStart",{og:t}).then(function(t){e.$notify.success({title:"成功",message:t.data,duration:1e3})}).catch(function(t){e.$notify.success({title:"成功",message:response.data,duration:1e3})})}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{on:{click:function(e){t.Start(1)}}},[t._v("OG1 Start")]),t._v(" "),n("el-button",{on:{click:function(e){t.Start(2)}}},[t._v("OG2 Start")])],1)},staticRenderFns:[]};var r=n("VU/8")(s,o,!1,function(t){n("NWdE")},"data-v-5f1e689a",null);e.default=r.exports},"Y9O/":function(t,e){},co9t:function(t,e){},dW2o:function(t,e){},fA8O:function(t,e,n){var i={"./Bag.png":"GVhm","./First Aid Pack.png":"wyuq","./Frying Pan.png":"8o/b","./Helmet.png":"/s54","./M416.png":"ClrP"};function a(t){return n(s(t))}function s(t){var e=i[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}a.keys=function(){return Object.keys(i)},a.resolve=s,t.exports=a,a.id="fA8O"},fw1U:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mtWM"),a=n.n(i),s={name:"PlayerEnd",methods:{End:function(t){var e=this;a.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.currentUser.token}}).post("/api/18-19 FOA Hunter Game/PlayerEnd",{og:t}).then(function(t){e.$notify.success({title:"成功",message:t.data,duration:1e3})}).catch(function(t){e.$notify.success({title:"成功",message:response.data,duration:1e3})})}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{on:{click:function(e){t.End(1)}}},[t._v("OG1 End")]),t._v(" "),n("el-button",{on:{click:function(e){t.End(2)}}},[t._v("OG2 End")])],1)},staticRenderFns:[]};var r=n("VU/8")(s,o,!1,function(t){n("co9t")},"data-v-479a9e1a",null);e.default=r.exports},gOq7:function(t,e){},i1U7:function(t,e){},iRp5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("mtWM"),a=n.n(i),s={name:"Reset",methods:{reset:function(t){var e,n=this,i=a.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.currentUser.token}});switch(t){case"time":e="/api/18-19 FOA Hunter Game/ResetTime";break;case"cash":e="/api/18-19 FOA Hunter Game/ResetCash";break;case"items":e="/api/18-19 FOA Hunter Game/ResetItems"}i.post(e).then(function(t){n.$notify.success({title:"成功",message:t.data,duration:1e3})}).catch(function(t){console.log(t)})}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{on:{click:function(e){t.reset("time")}}},[t._v("Reset Time")]),t._v(" "),n("el-button",{on:{click:function(e){t.reset("cash")}}},[t._v("Reset Cash")]),t._v(" "),n("el-button",{on:{click:function(e){t.reset("items")}}},[t._v("Reset Items")])],1)},staticRenderFns:[]};var r=n("VU/8")(s,o,!1,function(t){n("DehN")},"data-v-5a04c3d5",null);e.default=r.exports},jyX5:function(t,e){},n9mN:function(t,e){},r15W:function(t,e,n){"use strict";var i=n("E9Zr").a;var a=n("VU/8")(i,null,!1,function(t){n("dW2o")},null,null);e.a=a.exports},smSL:function(t,e){},tvR6:function(t,e){},wyuq:function(t,e,n){t.exports=n.p+"static/img/First Aid Pack.4bb1388.png"},xBwK:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b3fb375ea331e2c33277.js.map