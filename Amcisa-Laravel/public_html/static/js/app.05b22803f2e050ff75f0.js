webpackJsonp([1],{"+/av":function(t,e){},"+Gxq":function(t,e,n){"use strict";var i=n("fnDg").a;var a=n("VU/8")(i,null,!1,function(t){n("9YXS")},null,null);e.a=a.exports},"9M+g":function(t,e){},"9YXS":function(t,e){},"HUt/":function(t,e,n){"use strict";var i=n("qRo1").a;var a=n("VU/8")(i,null,!1,function(t){n("dIGf")},null,null);e.a=a.exports},JCpY:function(t,e,n){"use strict";var i=n("rKsW").a;var a=n("VU/8")(i,null,!1,function(t){n("hj9i")},null,null);e.a=a.exports},JDVb:function(t,e,n){"use strict";var i=n("9NuQ").a;var a=n("VU/8")(i,null,!1,function(t){n("itwp")},null,null);e.a=a.exports},JL9e:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),a={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("nav",{staticClass:"nav-class"},[e("button",{staticClass:"bttn-stretch bttn-md bttn-primary"},[this._v("sdds")])])}]};var s=n("VU/8")(null,a,!1,function(t){n("uhcg")},null,null).exports,o=n("mtWM"),l=n.n(o),r={name:"App",data:function(){return{email:null,password:null}},methods:{handleLogin:function(){var t=this;l.a.create({headers:{"Content-Type":"application/json"}}).post("/oauth/token",{grant_type:"password",client_id:1,client_secret:"656qdZkintJzWSBKaaipFnRQzmP2SVrmdTPafbU5",username:this.email,password:this.password}).then(function(e){t.$store.commit("setToken",e.data.access_token)}).catch(function(e){alert("Password Error"),t.$store.commit("setToken",null),console.log(e)})},handleLogout:function(){this.$store.commit("setToken",null)}},created:function(){l.a.defaults.baseURL=this.$store.state.baseUrl}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-form"},[0==this.$store.state.currentUser.isLoggedIn?n("div",[n("el-input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{placeholder:"School Email"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),t._v(" "),n("br"),t._v(" "),n("el-input",{staticStyle:{width:"300px","margin-bottom":"10px"},attrs:{placeholder:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),n("br"),t._v(" "),n("el-button",{staticStyle:{width:"300px"},attrs:{type:"primary"},on:{click:function(e){t.handleLogin()}}},[t._v("LOGIN")]),t._v(" "),n("br"),t._v(" "),n("a",{attrs:{href:this.$store.state.baseUrl+"/password/reset"}},[t._v("Reset Password")])],1):n("div",[n("h5",[t._v("Hi! "+t._s(this.$store.state.currentUser.name_ch))]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.handleLogout()}}},[t._v("LOGOUT")])],1)])},staticRenderFns:[]};var c=n("VU/8")(r,d,!1,function(t){n("z6of")},"data-v-3046d6b0",null).exports,u={name:"Events",data:function(){return{events:null}},methods:{handleClick:function(t){this.$router.push({path:"/Event?id="+t})},loadEvents:function(){var t=this;l.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.currentUser.token}}).get("/api/event/get/*").then(function(e){t.events=e.data.events,console.log(e.data.events)}).catch(function(t){console.log(t)})}},watch:{isLogin:function(){this.loadEvents()}},computed:{isLogin:function(){return this.$store.state.currentUser.isLoggedIn}},created:function(){l.a.defaults.baseURL=this.$store.state.baseUrl,this.loadEvents()}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.events,function(e){return n("div",{staticStyle:{"max-width":"300px","margin-left":"auto","margin-right":"auto","margin-top":"50px","margin-bottom":"50px"}},[n("el-card",{attrs:{"body-style":{padding:"0px"}}},[n("el-button",{staticClass:"button",attrs:{type:"text"},on:{click:function(n){t.handleClick(e.id)}}},[n("img",{staticClass:"image",attrs:{src:t.$store.state.baseUrl+"/api/download"+e.content.thumbnail.filename}}),t._v(" "),n("div",{staticStyle:{padding:"14px"}},[n("h3",[t._v(t._s(e.content.title))]),t._v(" "),n("div",{staticClass:"bottom clearfix"},[n("time",{staticClass:"time"},[t._v(t._s(e.content.description))])])])])],1)],1)}))},staticRenderFns:[]};var v=n("VU/8")(u,p,!1,function(t){n("+/av")},"data-v-62928c82",null).exports,h=n("gRE1"),f=n.n(h),m=n("pFYg"),_=n.n(m),g=n("mvHQ"),x=n.n(g),b=n("woOf"),w=n.n(b),$=n("1Wvq"),U=n.n($),S=n("eO45"),y=n.n(S),I=n("DAYN"),C=n.n(I),E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title"},[n("div",{ref:"title",attrs:{hidden:!1}},[n("h5",[t._v(t._s(t.data.field.title))]),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.title.hidden=!0,t.$refs.titleEdit.hidden=!1}}},[n("i",{staticClass:"el-icon-edit-outline"})])]),t._v(" "),n("div",{ref:"titleEdit",attrs:{hidden:!0}},[n("el-input",{attrs:{size:"medium",placeholder:"Please input"},model:{value:t.data.field.title,callback:function(e){t.$set(t.data.field,"title",e)},expression:"data.field.title"}}),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.title.hidden=!1,t.$refs.titleEdit.hidden=!0}}},[n("i",{staticClass:"el-icon-success"})])],1)]),t._v(" "),n("div",{staticClass:"content"},[n("div",{ref:"content",attrs:{hidden:!1}},[n("span",[t._v(t._s(t.data.field.content))]),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.content.hidden=!0,t.$refs.contentEdit.hidden=!1}}},[n("i",{staticClass:"el-icon-edit-outline"})])]),t._v(" "),n("div",{ref:"contentEdit",attrs:{hidden:!0}},[n("el-input",{attrs:{size:"mini",placeholder:"Please input"},model:{value:t.data.field.content,callback:function(e){t.$set(t.data.field,"content",e)},expression:"data.field.content"}}),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.content.hidden=!1,t.$refs.contentEdit.hidden=!0}}},[n("i",{staticClass:"el-icon-success"})])],1)])])},staticRenderFns:[]},k=n("VU/8")({name:"Description",props:["id"],data:function(){return{data:{field:{id:"",type:this.$options.name,isTitle:!0,title:"This is the title",content:"This is the content",isInput:!1}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},E,!1,null,null,null).exports,A={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},T=n("VU/8")({name:"TextInput",props:["id"],data:function(){return{data:{field:{id:"",type:this.$options.name,title:"Input the text",placeHolder:"This is placeholder",isInput:!0}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},A,!1,null,null,null).exports,D={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  this is imgage selection\n")])},staticRenderFns:[]},F=n("VU/8")({name:"TextArea",props:["id"],data:function(){return{data:{field:{id:"",type:this.$options.name,title:"Enter the text",placeHolder:"Enter the text",isInput:!0,text:"",limit:!1}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},D,!1,null,null,null).exports,R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title"},[n("div",{ref:"title",attrs:{hidden:!1}},[n("h5",[t._v(t._s(t.data.field.title))]),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.title.hidden=!0,t.$refs.titleEdit.hidden=!1}}},[n("i",{staticClass:"el-icon-edit-outline"})])]),t._v(" "),n("div",{ref:"titleEdit",attrs:{hidden:!0}},[n("el-input",{attrs:{size:"medium",placeholder:"Please input"},model:{value:t.data.field.title,callback:function(e){t.$set(t.data.field,"title",e)},expression:"data.field.title"}}),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.title.hidden=!1,t.$refs.titleEdit.hidden=!0}}},[n("i",{staticClass:"el-icon-success"})])],1)]),t._v(" "),n("div",[n("el-radio",{attrs:{label:"1",border:""},model:{value:t.radio7,callback:function(e){t.radio7=e},expression:"radio7"}},[t._v("Option A")]),t._v(" "),n("el-radio",{attrs:{label:"2",border:""},model:{value:t.radio7,callback:function(e){t.radio7=e},expression:"radio7"}},[t._v("Option B")])],1)])},staticRenderFns:[]},V=n("VU/8")({name:"Selections",props:["id"],data:function(){return{data:{field:{id:"",type:this.$options.name,title:"Please select",isInput:!0,isMultiple:!1,selections:[]}},template:{selection:{id:"",text:""}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},R,!1,null,null,null).exports,j={name:"ImageSelections",props:["id"],data:function(){return{data:{field:{id:"",type:this.$options.name,title:"Please Select",isInput:!0,selections:[],isMultiple:!1,photoRatio:null}},template:{selection:{filename:"",text:"",file:null}}}},methods:{onChanged:function(t){var e=w()({},this.template.selection);e.file=t.raw,this.data.field.selections.push(e)},onRemoved:function(t,e){for(var n=this.data.field.selections.length,i=0;i<n;i++)this.data.field.selections[i].file.uid==t.uid&&(this.data.field.selections.splice(i,1),console.log("remove  "+i))}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},B={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-upload",{attrs:{"auto-upload":!1,action:"https://jsonplaceholder.typicode.com/posts/","list-type":"picture-card","on-change":t.onChanged,"on-remove":t.onRemoved}},[n("i",{staticClass:"el-icon-plus"})]),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)},staticRenderFns:[]},z=n("VU/8")(j,B,!1,null,null,null).exports,N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title"},[n("div",{ref:"title",attrs:{hidden:!1}},[n("h5",[t._v("\n          "+t._s(t.data.field.title)+"\n          "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.title.hidden=!0,t.$refs.titleEdit.hidden=!1}}},[n("i",{staticClass:"el-icon-edit-outline"})])])]),t._v(" "),n("div",{ref:"titleEdit",attrs:{hidden:!0}},[n("el-input",{attrs:{size:"medium",placeholder:"Please input"},model:{value:t.data.field.title,callback:function(e){t.$set(t.data.field,"title",e)},expression:"data.field.title"}}),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.title.hidden=!1,t.$refs.titleEdit.hidden=!0}}},[n("i",{staticClass:"el-icon-success"})])],1)]),t._v(" "),n("div",{staticClass:"content"},[n("div",{ref:"content",attrs:{hidden:!1}},[n("el-button",[t._v(t._s(t.data.field.content))]),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.content.hidden=!0,t.$refs.contentEdit.hidden=!1}}},[n("i",{staticClass:"el-icon-edit-outline"})])],1),t._v(" "),n("div",{ref:"contentEdit",attrs:{hidden:!0}},[n("el-input",{attrs:{size:"mini",placeholder:"Please input"},model:{value:t.data.field.content,callback:function(e){t.$set(t.data.field,"content",e)},expression:"data.field.content"}}),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.content.hidden=!1,t.$refs.contentEdit.hidden=!0}}},[n("i",{staticClass:"el-icon-success"})])],1)])])},staticRenderFns:[]},L=n("VU/8")({name:"UploadButton",props:["id"],data:function(){return{data:{field:{id:"",type:this.$options.name,title:"Upload your file",content:"Upload",isInput:!0,limit:!0,filter:""}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},N,!1,null,null,null).exports,P={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"content"},[n("div",{ref:"content",attrs:{hidden:!1}},[n("el-button",[t._v(t._s(t.data.field.content))]),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.content.hidden=!0,t.$refs.contentEdit.hidden=!1}}},[n("i",{staticClass:"el-icon-edit-outline"})])],1),t._v(" "),n("div",{ref:"contentEdit",attrs:{hidden:!0}},[n("el-input",{attrs:{size:"mini",placeholder:"Please input"},model:{value:t.data.field.content,callback:function(e){t.$set(t.data.field,"content",e)},expression:"data.field.content"}}),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.content.hidden=!1,t.$refs.contentEdit.hidden=!0}}},[n("i",{staticClass:"el-icon-success"})])],1)])])},staticRenderFns:[]},O=n("VU/8")({name:"SubmitButton",props:["id"],data:function(){return{data:{field:{id:"",content:"Submit",type:this.$options.name,isInput:!0}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},P,!1,null,null,null).exports,H={name:"AddEvent",data:function(){return{parent:"asdadads",selected:"",sampleImageSelections:[{id:"1",src:"http://placekitten.com/280/320",alt:"Alt Image 1"},{id:"2",src:"http://placekitten.com/280/320",alt:"Alt Image 2"}],sampleUploadFiles:[],events:{title:"",thumbnail:{file:"",filename:""},role:"",description:"",isSubmit:!0,page:"",fields:[]},template:{}}},components:{"file-upload":U.a,draggable:C.a,VueSelectImage:y.a,Description:k,TextInput:T,TextArea:F,Selections:V,ImageSelections:z,UploadButton:L,SubmitButton:O},methods:{onFieldUpdated:function(t){var e=0,n=!1;this.events.fields.forEach(function(i){i.id==t.field.id?n=!0:n||e++}),e<this.events.fields.length?this.events.fields[e]=t.field:console.log("Error in onFieldUpdated")},onAdd:function(){if(""==this.selected|null==this.selected)this.$notify.error({title:"Error",message:"You did not select any things"});else{var t=w()({},this.template[this.selected].field);t.id=this.$uuid.v4(),this.events.fields.push(t)}},onChanged:function(t){this.events.thumbnail.file=t.raw,console.log(t.raw)},onRemoved:function(){this.events.thumbnail.file=null},onSubmit:function(){var t=[];this.getAllFile(this.events,t);var e=new FormData,n=x()(this.events);t.forEach(function(t){e.append("file[]",t)}),e.append("event",n),l.a.post("/api/event/post",e,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.$store.state.currentUser.token}}).then(function(t){console.log(t)}).catch(function(t){console.log(t.response)})},getAllFile:function(t,e){var n=this;if(null!=t&&""!=t)if(t.isArray);else if("object"==(void 0===t?"undefined":_()(t))){t.hasOwnProperty("file")&&null!=t.file&&""!=t.file&&(e.push(t.file),console.log("pushed file!! "+t.file)),console.log(void 0===t?"undefined":_()(t)),f()(t).forEach(function(t){n.getAllFile(t,e)})}}},created:function(){l.a.defaults.baseURL=this.$store.state.baseUrl}},M={render:function(){var t=this,e=this,n=e.$createElement,i=e._self._c||n;return i("div",[i("el-input",{attrs:{placeholder:"Event Title"},model:{value:e.events.title,callback:function(t){e.$set(e.events,"title",t)},expression:"events.title"}}),e._v(" "),i("el-input",{attrs:{placeholder:"Event Description"},model:{value:e.events.description,callback:function(t){e.$set(e.events,"description",t)},expression:"events.description"}}),e._v(" "),i("h7",[e._v("Is this form to be submit?")]),e._v(" "),i("el-switch",{model:{value:e.events.isSubmit,callback:function(t){e.$set(e.events,"isSubmit",t)},expression:"events.isSubmit"}}),e._v(" "),i("br"),e._v(" "),i("h7",[e._v("Page of event:")]),e._v(" "),i("el-input-number",{attrs:{min:1,max:10},model:{value:e.events.page,callback:function(t){e.$set(e.events,"page",t)},expression:"events.page"}}),e._v(" "),i("br"),e._v(" "),i("el-dropdown",{on:{command:function(e){t.events.role=e}}},[i("span",{staticClass:"el-dropdown-link"},[""==this.events.role?i("span",[e._v("Role available to see this event")]):i("span",[e._v(e._s(this.events.role.charAt(0).toUpperCase()+this.events.role.slice(1)))]),e._v(" "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"guest"}},[e._v("Guest")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"member"}},[e._v("Member")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"president"}},[e._v("President")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"admin"}},[e._v("Admin")])],1)],1),e._v(" "),i("el-upload",{staticClass:"upload-demo",attrs:{limit:1,drag:"","auto-upload":!1,action:"https://jsonplaceholder.typicode.com/posts/","on-change":e.onChanged,"on-remove":e.onRemoved}},[i("i",{staticClass:"el-icon-upload"}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("Upload the event thumbnail")])]),e._v(" "),i("br"),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[i("description",{on:{created:function(t){e.template.Description=t}}}),e._v(" "),i("text-input",{on:{created:function(t){e.template.TextInput=t}}}),e._v(" "),i("text-area",{on:{created:function(t){e.template.TextArea=t}}}),e._v(" "),i("selections",{on:{created:function(t){e.template.Selections=t}}}),e._v(" "),i("image-selections",{on:{created:function(t){e.template.ImageSelections=t}}}),e._v(" "),i("upload-button",{on:{created:function(t){e.template.UploadButton=t}}}),e._v(" "),i("submit-button",{on:{created:function(t){e.template.SubmitButton=t}}})],1),e._v(" "),i("div",{staticClass:"example"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"Description"==e.selected,expression:"selected == 'Description'"}]},[i("p",[e._v("Description here...")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"TextInput"==e.selected,expression:"selected == 'TextInput'"}]},[i("span",[e._v("Input Box: ")]),i("el-input",{staticStyle:{"max-width":"300px","margin-left":"auto","margin-right":"auto"},attrs:{placeholder:"Please input"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"TextArea"==e.selected,expression:"selected == 'TextArea'"}]},[i("span",[e._v("Text Area: ")]),e._v(" "),i("el-input",{staticStyle:{"max-width":"300px","margin-left":"auto","margin-right":"auto"},attrs:{type:"textarea",rows:2,placeholder:"Please input"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"Selections"==e.selected,expression:"selected == 'Selections'"}]},[i("span",[e._v("Selections: ")]),e._v(" "),i("el-select",{attrs:{placeholder:"Select"}},[i("el-option",[e._v("Selections 1")]),e._v(" "),i("el-option",[e._v("Selections 2")]),e._v(" "),i("el-option",[e._v("Selections 3")]),e._v(" "),i("el-option",[e._v("Selections 4")]),e._v(" "),i("el-option",[e._v("Selections 5")])],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"ImageSelections"==e.selected,expression:"selected == 'ImageSelections'"}],staticStyle:{"max-width":"300px","margin-left":"auto","margin-right":"auto","text-align":"left"}},[i("span",[e._v("Image Selections: ")]),e._v(" "),i("vue-select-image",{attrs:{dataImages:e.sampleImageSelections,h:"130px",w:"100px"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"UploadButton"==e.selected,expression:"selected == 'UploadButton'"}],staticStyle:{"max-width":"500px","margin-left":"auto","margin-right":"auto","text-align":"left"}},[i("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"https://jsonplaceholder.typicode.com/posts/","auto-upload":!1,multiple:""}},[i("i",{staticClass:"el-icon-upload"}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("Drop file here or "),i("em",[e._v("click to upload")])]),e._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("jpg/png files with a size less than 500kb")])])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"SubmitButton"==e.selected,expression:"selected == 'SubmitButton'"}],staticStyle:{"max-width":"500px","margin-left":"auto","margin-right":"auto","text-align":"left"}},[i("el-button",{attrs:{type:"primary"}},[e._v("Submit")])],1)]),e._v(" "),i("el-dropdown",{attrs:{"split-button":"",type:"primary"},on:{click:e.onAdd,command:function(e){t.selected=e}}},[e._v("\n    Add "+e._s(e.selected.replace(/([A-Z])/g," $1").trim())+"\n    "),i("el-dropdown-menu",{ref:"dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"Description"}},[e._v("Description")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"TextInput"}},[e._v("Text Input")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"TextArea"}},[e._v("Text Area")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"Selections"}},[e._v("Selections")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"ImageSelections"}},[e._v("Image Selections")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"UploadButton"}},[e._v("Upload Button")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"SubmitButton"}},[e._v("Submit Button")])],1)],1),e._v(" "),e._l(e.events.fields,function(t){return i("div",[i(t.type,{tag:"component",attrs:{id:t.id},on:{dataChanged:e.onFieldUpdated}})],1)}),e._v(" "),i("el-button",{staticStyle:{"margin-top":"100px"},on:{click:e.onSubmit}},[e._v("Add Event")])],2)},staticRenderFns:[]},q=n("VU/8")(H,M,!1,null,null,null).exports,J={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title"},[n("h5",{directives:[{name:"show",rawName:"v-show",value:""!=t.field.title,expression:"field.title!=''"}]},[t._v(t._s(t.field.title))])]),t._v(" "),n("div",[n("span",{directives:[{name:"show",rawName:"v-show",value:""!=t.field.title,expression:"field.title!=''"}]},[t._v(t._s(t.field.content))])])])},staticRenderFns:[]},Y=n("VU/8")({name:"Description",props:["field"]},J,!1,null,null,null).exports,G={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h4",[t._v("\n    "+t._s(t.field.title)+"\n  ")]),t._v(" "),n("el-input",{staticStyle:{"max-width":"300px"},attrs:{placeholder:t.field.placeHolder},model:{value:t.eventData.content,callback:function(e){t.$set(t.eventData,"content",e)},expression:"eventData.content"}})],1)},staticRenderFns:[]},X=n("VU/8")({name:"TextInput",props:["field"],data:function(){return{eventData:{id:this.field.id,content:""}}},watch:{eventData:{handler:function(t,e){this.$emit("dataChanged",this.eventData)},deep:!0}}},G,!1,null,null,null).exports,W={render:function(){var t=this.$createElement;return(this._self._c||t)("div",[this._v("\n  this is imgage selection\n")])},staticRenderFns:[]},Z=n("VU/8")({name:"TextArea",props:["id"],data:function(){return{data:{field:{id:"",type:this.$options.name,title:"Enter the text",placeHolder:"Enter the text",isInput:!0,text:"",limit:!1}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},W,!1,null,null,null).exports,Q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title"},[n("div",{ref:"title",attrs:{hidden:!1}},[n("h5",[t._v(t._s(t.data.field.title))]),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.title.hidden=!0,t.$refs.titleEdit.hidden=!1}}},[n("i",{staticClass:"el-icon-edit-outline"})])]),t._v(" "),n("div",{ref:"titleEdit",attrs:{hidden:!0}},[n("el-input",{attrs:{size:"medium",placeholder:"Please input"},model:{value:t.data.field.title,callback:function(e){t.$set(t.data.field,"title",e)},expression:"data.field.title"}}),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.title.hidden=!1,t.$refs.titleEdit.hidden=!0}}},[n("i",{staticClass:"el-icon-success"})])],1)]),t._v(" "),n("div",[n("el-radio",{attrs:{label:"1",border:""},model:{value:t.radio7,callback:function(e){t.radio7=e},expression:"radio7"}},[t._v("Option A")]),t._v(" "),n("el-radio",{attrs:{label:"2",border:""},model:{value:t.radio7,callback:function(e){t.radio7=e},expression:"radio7"}},[t._v("Option B")])],1)])},staticRenderFns:[]},K=n("VU/8")({name:"Selections",props:["id"],data:function(){return{data:{field:{id:"",type:this.$options.name,title:"Please select",isInput:!0,isMultiple:!1,selections:[]}},template:{selection:{id:"",text:""}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},Q,!1,null,null,null).exports,tt={name:"ImageSelections",props:["field"],data:function(){return{eventData:{id:this.field.id,content:""},dataImage:[]}},components:{VueSelectImage:y.a},methods:{onSelectImage:function(t){var e=(this.$store.state.baseUrl+"/api/download/").length;this.eventData.content=t.src.substring(e)}},watch:{eventData:{handler:function(t,e){this.$emit("dataChanged",this.eventData)},deep:!0}},created:function(){var t=this,e=0;this.field.selections.forEach(function(n){e++,t.dataImage.push({id:e,src:t.$store.state.baseUrl+"/api/download"+n.filename})})}},et={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"title"},[n("h5",{directives:[{name:"show",rawName:"v-show",value:""!=t.field.title,expression:"field.title!=''"}]},[t._v(t._s(t.field.title))])]),t._v(" "),n("vue-select-image",{staticStyle:{margin:"10%","margin-bottom":"0","margin-top":"5%"},attrs:{dataImages:t.dataImage},on:{onselectimage:t.onSelectImage}})],1)},staticRenderFns:[]},nt=n("VU/8")(tt,et,!1,null,null,null).exports,it={name:"UploadButton",props:["field"],data:function(){return{eventData:{id:this.field.id,files:[]},fileTemplate:{filename:null,file:null}}},methods:{onChanged:function(t){var e=w()({},this.fileTemplate);e.file=t.raw,this.eventData.files.push(e)},onRemoved:function(t,e){for(var n=this.eventData.files.length,i=0;i<n;i++)this.eventData.files[i].file.uid==t.uid&&this.eventData.files(i,1)}},watch:{eventData:{handler:function(t,e){this.$emit("dataChanged",this.eventData)},deep:!0}}},at={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("el-upload",{attrs:{"auto-upload":!1,action:"https://jsonplaceholder.typicode.com/posts/","list-type":"picture-card","on-change":t.onChanged,"on-remove":t.onRemoved}},[n("i",{staticClass:"el-icon-plus"})]),t._v(" "),n("el-dialog",{attrs:{visible:t.dialogVisible},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("img",{attrs:{width:"100%",src:t.dialogImageUrl,alt:""}})])],1)])},staticRenderFns:[]},st=n("VU/8")(it,at,!1,null,null,null).exports,ot={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"content"},[n("div",{ref:"content",attrs:{hidden:!1}},[n("el-button",[t._v(t._s(t.data.field.content))]),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.content.hidden=!0,t.$refs.contentEdit.hidden=!1}}},[n("i",{staticClass:"el-icon-edit-outline"})])],1),t._v(" "),n("div",{ref:"contentEdit",attrs:{hidden:!0}},[n("el-input",{attrs:{size:"mini",placeholder:"Please input"},model:{value:t.data.field.content,callback:function(e){t.$set(t.data.field,"content",e)},expression:"data.field.content"}}),t._v(" "),n("a",{attrs:{href:"javascript:void(0)"},on:{click:function(e){t.$refs.content.hidden=!1,t.$refs.contentEdit.hidden=!0}}},[n("i",{staticClass:"el-icon-success"})])],1)])])},staticRenderFns:[]},lt=n("VU/8")({name:"SubmitButton",props:["id"],data:function(){return{data:{field:{id:"",content:"Submit",type:this.$options.name,isInput:!0}}}},watch:{data:{handler:function(t,e){this.$emit("dataChanged",this.data)},deep:!0}},created:function(){this.data.field.id=this.id,this.$emit("created",this.data)}},ot,!1,null,null,null).exports,rt={name:"AddEvent",data:function(){return{parent:"asdadads",selected:"",sampleImageSelections:[{id:"1",src:"http://placekitten.com/280/320",alt:"Alt Image 1"},{id:"2",src:"http://placekitten.com/280/320",alt:"Alt Image 2"}],sampleUploadFiles:[],events:{title:"",thumbnail:"",description:"",page:"",fields:[]},template:{},test:[{id:"0",content:"this is one",secret:"1111"},{id:"58",content:"this is 222",secret:"222"},{id:"59",content:"this is 333",secret:"333"},{id:"60",content:"this is 444",secret:"444"},{id:"62",content:"this is 555",secret:"555"}]}},components:{"file-upload":U.a,draggable:C.a,VueSelectImage:y.a,Description:Y,TextInput:X,TextArea:Z,Selections:K,ImageSelections:nt,UploadButton:st,SubmitButton:lt},methods:{testFunc:function(){console.log(this.events.fields)},onFieldUpdated:function(t){var e=0,n=!1;this.events.fields.forEach(function(i){console.log(i.id+"  ==  "+t.field.id),i.id==t.field.id?(console.log("equal!!!!"),n=!0):n||e++}),e<this.events.fields.length?(this.events.fields[e]=t.field,console.log("this.events.fields["+e+"]=  "+t.field.id)):console.log("Error in onFieldUpdated")},onAdd:function(){if(""==this.selected|null==this.selected)this.$notify.error({title:"Error",message:"You did not select any things"});else{var t=w()({},this.template[this.selected].field);t.id=this.$uuid.v4(),this.events.fields.push(t)}},OnChanged:function(t){console.log(t),this.files.push(t.raw)},OnSubmit:function(){console.log(this.files);var t=new FormData;t.append("file",this.files[0]),t.append("extension","jpeg"),l.a.post("/api/upload",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t)}).catch(function(){console.log("FAILURE!!")})}},created:function(){l.a.defaults.baseURL=this.$store.state.baseUrl}},dt={render:function(){var t=this,e=this,n=e.$createElement,i=e._self._c||n;return i("div",[i("div",[i("description",{on:{created:function(t){e.template.Description=t}}}),e._v(" "),i("text-input",{on:{created:function(t){e.template.TextInput=t}}}),e._v(" "),i("text-area",{on:{created:function(t){e.template.TextArea=t}}}),e._v(" "),i("selections",{on:{created:function(t){e.template.Selections=t}}}),e._v(" "),i("image-selections",{on:{created:function(t){e.template.ImageSelections=t}}}),e._v(" "),i("upload-button",{on:{created:function(t){e.template.UploadButton=t}}}),e._v(" "),i("submit-button",{on:{created:function(t){e.template.SubmitButton=t}}})],1),e._v(" "),i("div",{staticClass:"example"},[i("div",{directives:[{name:"show",rawName:"v-show",value:"Description"==e.selected,expression:"selected == 'Description'"}]},[i("p",[e._v("Description here...")])]),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"Text Input"==e.selected,expression:"selected == 'Text Input'"}]},[i("span",[e._v("Input Box: ")]),i("el-input",{staticStyle:{"max-width":"300px","margin-left":"auto","margin-right":"auto"},attrs:{placeholder:"Please input"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"Text Area"==e.selected,expression:"selected == 'Text Area'"}]},[i("span",[e._v("Text Area: ")]),e._v(" "),i("el-input",{staticStyle:{"max-width":"300px","margin-left":"auto","margin-right":"auto"},attrs:{type:"textarea",rows:2,placeholder:"Please input"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"Selections"==e.selected,expression:"selected == 'Selections'"}]},[i("span",[e._v("Selections: ")]),e._v(" "),i("el-select",{attrs:{placeholder:"Select"}},[i("el-option",[e._v("Selections 1")]),e._v(" "),i("el-option",[e._v("Selections 2")]),e._v(" "),i("el-option",[e._v("Selections 3")]),e._v(" "),i("el-option",[e._v("Selections 4")]),e._v(" "),i("el-option",[e._v("Selections 5")])],1)],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"Image Selections"==e.selected,expression:"selected == 'Image Selections'"}],staticStyle:{"max-width":"300px","margin-left":"auto","margin-right":"auto","text-align":"left"}},[i("span",[e._v("Image Selections: ")]),e._v(" "),i("vue-select-image",{attrs:{dataImages:e.sampleImageSelections,h:"130px",w:"100px"}})],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"Upload Button"==e.selected,expression:"selected == 'Upload Button'"}],staticStyle:{"max-width":"500px","margin-left":"auto","margin-right":"auto","text-align":"left"}},[i("el-upload",{staticClass:"upload-demo",attrs:{drag:"",action:"https://jsonplaceholder.typicode.com/posts/","auto-upload":!1,multiple:""}},[i("i",{staticClass:"el-icon-upload"}),e._v(" "),i("div",{staticClass:"el-upload__text"},[e._v("Drop file here or "),i("em",[e._v("click to upload")])]),e._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("jpg/png files with a size less than 500kb")])])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:"Submit Button"==e.selected,expression:"selected == 'Submit Button'"}],staticStyle:{"max-width":"500px","margin-left":"auto","margin-right":"auto","text-align":"left"}},[i("el-button",{attrs:{type:"primary"}},[e._v("Submit")])],1)]),e._v(" "),i("el-dropdown",{attrs:{"split-button":"",type:"primary"},on:{click:e.onAdd,command:function(e){t.selected=e}}},[e._v("\n    Add "+e._s(e.selected.replace(/([A-Z])/g," $1").trim())+"\n    "),i("el-dropdown-menu",{ref:"dropdown",attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"Description"}},[e._v("Description")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"TextInput"}},[e._v("Text Input")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"TextArea"}},[e._v("Text Area")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"Selections"}},[e._v("Selections")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"ImageSelections"}},[e._v("Image Selections")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"UploadButton"}},[e._v("Upload Button")]),e._v(" "),i("el-dropdown-item",{attrs:{command:"SubmitButton"}},[e._v("Submit Button")])],1)],1),e._v(" "),i("ul",{directives:[{name:"sortable",rawName:"v-sortable",value:{handle:".handle"},expression:"{ handle: '.handle' }"}],staticClass:"list-group"},e._l(e.events.fields,function(t,n){return i("li",{staticClass:"list-group-item"},[i(t.type,{tag:"component",attrs:{id:t.id},on:{dataChanged:e.onFieldUpdated}}),e._v(" "),i("i",{staticClass:"handle"})],1)})),e._v(" "),i("button",{on:{click:e.testFunc}},[e._v("check value")])],1)},staticRenderFns:[]},ct={name:"App",components:{"nav-bar":s,"login-form":c,events:v,"add-event":q,backup:n("VU/8")(rt,dt,!1,null,null,null).exports},created:function(){l.a.defaults.baseURL=this.$store.state.baseUrl;var t=localStorage.getItem("token");null!=t&&this.$store.commit("setToken",t)}},ut={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var pt=n("VU/8")(ct,ut,!1,function(t){n("h47a")},null,null).exports,vt=n("/ocq"),ht={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-button",{staticStyle:{width:"300px","margin-bottom":"10px"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("关于我们")]),t._v(" "),n("el-dialog",{attrs:{title:"关于我们",visible:t.dialogVisible,width:"90%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("span",[t._v(t._s(t.aboutUs))]),t._v(" "),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("OK")])],1)])],1)},staticRenderFns:[]},ft=n("VU/8")({name:"AboutUs",data:function(){return{aboutUs:"成立于1983年，由就读于新加坡国立大学(NUS)以及南洋理工大学(NTU)的独中生毕业生组成。 本联谊会主要维系及增进独中生之间的感情，与董教总及各独中保持联络以提供新加坡大学的最新资料，协助新生适应大学生。每年AMCISA除了办如中秋晚会或新春晚会等的活动外，还会在七月中旬办迎新营，协助即将前来大学的独中生们处理学生证的申请、身体检查、贷款等繁杂手续。",dialogVisible:!1}}},ht,!1,null,null,null).exports,mt={name:"Home",data:function(){return{file:"",timer:""}},components:{AboutUs:ft,"login-form":c,events:v,"add-event":q,"about-us":ft},methods:{submitFile:function(){var t=new FormData;t.append("file",this.file),t.append("extension","jpeg"),l.a.post("/api/upload",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t)}).catch(function(){console.log("FAILURE!!")})},handleFileUpload:function(){this.file=this.$refs.file.files[0]}}},_t={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"title",staticStyle:{"font-size":"6rem"}},[t._v("AMCISA")]),t._v(" "),n("router-link",{attrs:{to:"/info"}},[n("el-button",{staticStyle:{width:"300px","margin-bottom":"10px"}},[t._v("升学资讯")])],1),t._v(" "),n("about-us"),t._v(" "),n("login-form"),t._v(" "),n("events")],1)},staticRenderFns:[]};var gt=n("VU/8")(mt,_t,!1,function(t){n("xXzX")},"data-v-42200d2a",null).exports,xt={name:"Event",data:function(){return{vote:null,dataImages:[{id:"1",src:this.$store.state.baseUrl+"/api/download/1.jpg",alt:"Alt Image 1"},{id:"2",src:this.$store.state.baseUrl+"/api/download/2.jpg",alt:"Alt Image 2"},{id:"3",src:this.$store.state.baseUrl+"/api/download/3.jpg",alt:"Alt Image 3"},{id:"4",src:this.$store.state.baseUrl+"/api/download/4.jpg",alt:"Alt Image 4"},{id:"6",src:this.$store.state.baseUrl+"/api/download/6.jpg",alt:"Alt Image 6"},{id:"7",src:this.$store.state.baseUrl+"/api/download/7.jpg",alt:"Alt Image 7"},{id:"8",src:this.$store.state.baseUrl+"/api/download/8.jpg",alt:"Alt Image 8"}],event:null,eventData:[]}},components:{FormValidFeedback:n("x7Qz").a,VueSelectImage:y.a,Description:Y,TextInput:X,TextArea:Z,Selections:K,ImageSelections:nt,UploadButton:st,SubmitButton:lt},methods:{onDataUpdated:function(t){console.log(t);var e=0,n=!1;this.eventData.forEach(function(i){i.id==t.id?n=!0:n||e++}),e<this.eventData.length?this.eventData[e]=t:this.eventData.push(t)},onSubmit:function(){var t=this,e=[];this.getAllFile(this.eventData,e);var n=new FormData,i=x()(this.eventData);e.forEach(function(t){n.append("file[]",t)}),n.append("eventData",i),l.a.post("/api/eventData/post/"+this.event.id,n,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+this.$store.state.currentUser.token}}).then(function(e){console.log(e),t.$notify.success({title:"成功",message:"提交成功：".concat(t.event.content.title)}),t.$router.push({name:"Home"})}).catch(function(e){console.log(e.response),t.$notify.error({title:"错误",message:"提交失败：".concat(t.event.content.title)})})},getAllFile:function(t,e){var n=this;if(null!=t&&""!=t)if(t.isArray);else if("object"==(void 0===t?"undefined":_()(t))){t.hasOwnProperty("file")&&null!=t.file&&""!=t.file&&(e.push(t.file),console.log("pushed file!! "+t.file)),console.log(void 0===t?"undefined":_()(t)),f()(t).forEach(function(t){n.getAllFile(t,e)})}}},created:function(){var t=this;l.a.defaults.baseURL=this.$store.state.baseUrl,l.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.currentUser.token}}).get("/api/event/get/"+this.$route.query.id).then(function(e){t.event=e.data.event}).catch(function(t){console.log(t)})}},bt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"text-align":"left","margin-left":"50px"}},[1==this.$store.state.currentUser.isLoggedIn?n("div",[n("h2",{staticStyle:{"margin-bottom":"80px"}},[t._v(t._s(t.event.content.title))]),t._v(" "),t._l(t.event.content.fields,function(e){return n("div",[n(e.type,{tag:"component",staticStyle:{"margin-top":"10px"},attrs:{field:e},on:{dataChanged:t.onDataUpdated}})],1)})],2):t._e(),t._v(" "),t.event.content.isSubmit?n("el-button",{staticStyle:{"margin-top":"80px","margin-bottom":"50px"},attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("提交")]):t._e()],1)},staticRenderFns:[]},wt=n("VU/8")(xt,bt,!1,null,null,null).exports,$t={name:"AddEvent",data:function(){return{info:{category:"",title:"",description:""}}},methods:{addInfo:function(){l.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.$store.state.currentUser.token}}).post("/api/info/post",{info:this.info}).then(function(t){alert("successfully created events")}).catch(function(t){alert("Add Info Error"),console.log(t)})}},created:function(){l.a.defaults.baseURL=this.$store.state.baseUrl}},Ut={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{width:"600px","margin-left":"auto","margin-right":"auto"}},[n("h5",[t._v("Add Info Here")]),t._v(" "),n("el-input",{attrs:{placeholder:"Category"},model:{value:t.info.category,callback:function(e){t.$set(t.info,"category",e)},expression:"info.category"}}),t._v(" "),n("el-input",{attrs:{placeholder:"Title"},model:{value:t.info.title,callback:function(e){t.$set(t.info,"title",e)},expression:"info.title"}}),t._v(" "),n("el-input",{attrs:{type:"textarea",rows:2,placeholder:"Description"},model:{value:t.info.description,callback:function(e){t.$set(t.info,"description",e)},expression:"info.description"}}),t._v(" "),n("el-button",{on:{click:function(e){t.addInfo()}}},[t._v("ADD INFO")])],1)},staticRenderFns:[]},St=n("VU/8")($t,Ut,!1,null,null,null).exports,yt=n("Xxa5"),It=n.n(yt),Ct=n("exGp"),Et=n.n(Ct),kt={name:"Events",data:function(){return{info:[],loadCompleted:!1}},methods:{},created:function(){var t=this;return Et()(It.a.mark(function e(){var n;return It.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l.a.defaults.baseURL=t.$store.state.baseUrl,n=l.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.$store.state.currentUser.token}}),e.next=4,n.get("/api/info/get").then(function(e){e.data.info.forEach(function(e){for(var n=0;n<t.info.length;n++)if(t.info[n][0].category==e.content.category){t.info[n].push(e.content);break}n>=t.info.length&&(t.info[n]=[],t.info[n].push(e.content))})}).catch(function(t){console.log(t)});case 4:t.loadCompleted=!0;case 5:case"end":return e.stop()}},e,t)}))()}},At={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loadCompleted?n("div",t._l(t.info,function(e){return n("div",{staticStyle:{"font-size":"large"}},[n("el-card",{staticClass:"box-card",staticStyle:{margin:"50px"}},[n("el-collapse",{staticStyle:{"text-align":"left"}},[n("h4",[t._v(t._s(e[0].category))]),t._v(" "),t._l(e,function(e){return n("div",[n("el-collapse-item",{attrs:{title:e.title}},[n("pre",{staticStyle:{"margin-bottom":"-10px"}},[t._v(t._s(e.description))])])],1)})],2)],1)],1)})):t._e(),t._v(" "),n("router-link",{staticStyle:{"align-self":"left"},attrs:{to:"/"}},[n("el-button",{staticStyle:{width:"300px","margin-bottom":"10px"}},[t._v("返回主页")])],1)],1)},staticRenderFns:[]},Tt=n("VU/8")(kt,At,!1,null,null,null).exports;i.default.use(vt.a);var Dt=new vt.a({routes:[{path:"/",name:"Home",component:gt},{path:"/Event",name:"Event",component:wt},{path:"/AddEvent",name:"AddEvent",component:q},{path:"/AddInfo",name:"AddInfo",component:St},{path:"/Info",name:"Info",component:Tt}]}),Ft=n("NYxO");i.default.use(Ft.a);var Rt=new Ft.a.Store({state:{currentUser:{id:null,matric_no:null,email:null,name_en:null,name_ch:null,gender:null,course:null,birth_date:null,secondary_school:null,phone_sg:null,phone_my:null,university:null,token:null,isLoggedIn:!1},baseUrl:"http://amcisa.org"},mutations:{setToken:function(t,e){var n=this;null!=e?l.a.create({headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}).get(t.baseUrl+"/api/user").then(function(n){localStorage.setItem("token",e),t.currentUser.token=e,t.currentUser.isLoggedIn=!0,t.currentUser.matric_no=n.data.user.matric_no,t.currentUser.email=n.data.user.email,t.currentUser.name_en=n.data.user.name_en,t.currentUser.name_ch=n.data.user.name_ch,t.currentUser.gender=n.data.user.gender,t.currentUser.course=n.data.user.course,t.currentUser.birth_date=n.data.user.birth_date,t.currentUser.secondary_school=n.data.user.secondary_school,t.currentUser.phone_sg=n.data.user.phone_sg,t.currentUser.phone_my=n.data.user.phone_my,t.currentUser.university=n.data.user.university}).catch(function(t){alert("Password Error"),n.$store.commit("setToken",null),console.log(t)}):(localStorage.removeItem("token"),t.currentUser.matric_no=null,t.currentUser.email=null,t.currentUser.name_en=null,t.currentUser.name_ch=null,t.currentUser.gender=null,t.currentUser.course=null,t.currentUser.birth_date=null,t.currentUser.secondary_school=null,t.currentUser.phone_sg=null,t.currentUser.phone_my=null,t.currentUser.university=null,t.currentUser.token=null,t.currentUser.isLoggedIn=!1)}}}),Vt=n("zL8q"),jt=n.n(Vt),Bt=n("e6fC"),zt=n("fzx2"),Nt=n("n29Z"),Lt=n.n(Nt);n("Jmt5"),n("9M+g"),n("tvR6");i.default.config.productionTip=!1,i.default.use(Bt.a),i.default.use(jt.a),i.default.use(zt.a),i.default.use(Lt.a),new i.default({el:"#app",router:Dt,store:Rt,components:{App:pt},template:"<App/>"})},dIGf:function(t,e){},h47a:function(t,e){},hj9i:function(t,e){},itwp:function(t,e){},r15W:function(t,e,n){"use strict";var i=n("E9Zr").a;var a=n("VU/8")(i,null,!1,function(t){n("JL9e")},null,null);e.a=a.exports},tvR6:function(t,e){},uhcg:function(t,e){},xXzX:function(t,e){},z6of:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.05b22803f2e050ff75f0.js.map